<!-- Inherit from base -->
{% extends 'base.html' %} {% block head %}

<title>Tasks</title>
{% endblock %} {% block body %}

<main class="container-fluid">
  <h2>Tasks list ({{ all_tasks|length }})</h2>
  <hr />

  <form action="/" method="POST">
    <input type="text" name="title" id="title" />
    <input type="submit" value="Add Task" id="btn" />
  </form>
  <div>
    <!-- Task template -->
    {% if all_tasks | length < 1 %}
    <h3>No tasks yet!</h3>

    {% else %} {% for task in all_tasks %}
    <article>
      <header>
        <h5>{{ task.title }}</h5>
      </header>
      <p>{{ task.description }}</p>
      <footer>
        <span> Created: {{ task.created.strftime("%Y-%m-%d") }} </span>
        <div role="group">
          <a role="button" href="/del/{{task.id}}" class="outline">Delete</a>
          <a role="button" href="/edit/{{task.id}}" class="outline">Edit</a>
        </div>
      </footer>
    </article>
    {% endfor %} {% endif %}
  </div>
</main>

{% endblock %}
